#
#                        Proai Configuration 
#                 ================================

#######################
# Required Properties #
#######################

proai.sessionBaseDir = /tmp/proai/sessions
proai.secondsBetweenRequests = 300
proai.incompleteRecordListSize = 100
proai.incompleteSetListSize = 100
proai.incompleteIdentifierListSize = 100

# [proai.readLockWait]
#     The number of milliseconds to wait for a read lock on the cache
#     before giving up.  A higher value means that OAI harvesters won't
#     have to deal with "Service Unavailable" requests as often, whereas
#     a lower value will result in quicker response.

proai.readLockWait = 5000

# [proai.writeLockWait]
#     The number of milliseconds to wait for a write lock on the cache
#     before giving up.  If this amount of time passes while waiting
#     to commit a change to the cache, the update will be canceled and
#     attempted again after proai.cache.RecordCache.pollSeconds

proai.writeLockWait = 60000

# [proai.cacheBaseDir]
#     The directory where cache files should be stored. This will be created 
#     if it doesn't exist.

proai.cacheBaseDir            = /tmp/proai/cache


# [proai.driverClassName]
#     The class name of proai.driver.OAIDriver implementation. This should be 
#     in the classpath.

proai.driverClassName = fedora.services.oaiprovider.FedoraOAIDriver


# [proai.driverPollSeconds]
#     How often to poll the driver for updates.

proai.driverPollSeconds = 60


# [proai.db.url]
#     The JDBC connection URL for the database that will be used by the cache.
# [proai.db.driverClassName]
#     The class name of the JDBC driver appropriate for use with the
#     connection url.  This class should be in the classpath.
# [proai.db.username]
#     The database user.  This user should already exist in the database
#     and must have permission to create, modify, and query tables.
# [proai.db.password]
#     The password for the database user.

# MySQL
proai.db.url = jdbc:mysql://localhost/proai?useUnicode=true&amp;characterEncoding=UTF-8&amp;autoReconnect=true
proai.db.driverClassName = com.mysql.jdbc.Driver

# McKoi
#proai.db.url             = jdbc:mckoi:local://build/test/mckoi/mckoi.conf?create_or_boot=true
#proai.db.driverClassName = com.mckoi.JDBCDriver

proai.db.username        = proai
proai.db.password        = proai

# [JDBC Driver-specific DDL Converters]
#     A ddlConverter class is used to generate the commands necessary for 
#     creating the tables required Proai's record cache.  The name of the 
#     property should be the driverClassName of the JDBC driver you're using
#     plus ".ddlConverter".
com.mckoi.JDBCDriver.ddlConverter            = proai.util.McKoiDDLConverter
com.mysql.jdbc.Driver.ddlConverter           = proai.util.MySQLDDLConverter
oracle.jdbc.driver.OracleDriver.ddlConverter = proai.util.OracleDDLConverter

#################################
# OAIDriver-Specific Properties #
#################################

#driver.fedora.baseURL = http://fedora.nsdlib.org:8880/fedora/
driver.fedora.baseURL = http://repo1.nsdl.org:8880/fedora/
driver.fedora.user = fedoraAdmin
#driver.fedora.pass = cms4nsdl
driver.fedora.pass = mhalg0at

# [driver.fedora.queryConnectionTimeout]
#     When querying the resource index, the maximum number of seconds to
#     wait for the http connection to be established before giving up.
driver.fedora.queryConnectionTimeout = 5

# [driver.fedora.querySocketTimeout]
#     When querying the resource index, the maximum number of seconds of
#     socket inactivity to allow before giving up. (600)
driver.fedora.querySocketTimeout = 40

# [driver.fedora.disseminationConnectionTimeout]
#     When getting xml data from Fedora, the maximum number of seconds to
#     wait for the http connection to be established before giving up. (30)
driver.fedora.disseminationConnectionTimeout = 5

# [driver.fedora.disseminationSocketTimeout]
#     When getting xml data from Fedora, the maximum number of seconds of
#     socket inactivity to allow before giving up. (120)
driver.fedora.disseminationSocketTimeout = 40

driver.fedora.queryFactory = fedora.services.oaiprovider.ITQLQueryFactory
#driver.fedora.identify = http://fedora.nsdlib.org:8880/fedora/get/nsdl:1000/Identify.xml
driver.fedora.identify = http://repo1.nsdl.org:8880/fedora/get/nsdl:1000/Identify.xml

# space-separated list of metadata formats 
driver.fedora.md.formats = oai_dc nsdl_dc nsdl_all nsdl_search

driver.fedora.md.format.oai_dc.loc = http://www.openarchives.org/OAI/2.0/oai_dc.xsd
driver.fedora.md.format.oai_dc.uri = http://www.openarchives.org/OAI/2.0/oai_dc/
driver.fedora.md.format.oai_dc.dissType = info:fedora/*/nsdl:121/getOaiDC
# optional
driver.fedora.md.format.oai_dc.about.dissType = info:fedora/*/nsdl:121/getMetadataAbout?format=nsdl_dc

driver.fedora.md.format.nsdl_dc.loc = http://ns.nsdl.org/schemas/nsdl_dc/nsdl_dc_v1.02.xsd
driver.fedora.md.format.nsdl_dc.uri = http://ns.nsdl.org/nsdl_dc_v1.02/ 
driver.fedora.md.format.nsdl_dc.dissType = info:fedora/*/nsdl:121/getMetadata?format=nsdl_dc
driver.fedora.md.format.nsdl_dc.about.dissType = info:fedora/*/nsdl:121/getMetadataAbout?format=nsdl_dc

driver.fedora.md.format.nsdl_all.loc = http://ns.nsdl.org/schemas/nsdl_all/nsdl_all_v1.02.xsd
driver.fedora.md.format.nsdl_all.uri = http://ns.nsdl.org/nsdl_all_v1.02/
driver.fedora.md.format.nsdl_all.dissType = info:fedora/*/nsdl:121/getNsdlAll
driver.fedora.md.format.nsdl_all.about.dissType = info:fedora/*/nsdl:121/getMetadataAbout?format=nsdl_dc

driver.fedora.md.format.nsdl_search.loc = http://ns.nsdl.org/schemas/nsdl_search/nsdl_search_v1.02.xsd
driver.fedora.md.format.nsdl_search.uri = http://ns.nsdl.org/nsdl_search_v1.02/
driver.fedora.md.format.nsdl_search.dissType = info:fedora/*/nsdl:121/getNsdlSearch
driver.fedora.md.format.nsdl_search.about.dissType = info:fedora/*/nsdl:121/getMetadataAbout?format=nsdl_dc

driver.fedora.itemID = http://ns.nsdl.org/api/relationships#itemId
driver.fedora.setSpec = http://ns.nsdl.org/api/relationships#setSpec
driver.fedora.setSpec.name = http://ns.nsdl.org/api/relationships#setSpecName
driver.fedora.setSpec.desc.dissType = info:fedora/*/SetInfo.xml

driver.fedora.itemSetSpecPath = $item <http://ns.nsdl.org/api/relationships#metadataProvidedBy> $set $set <http://ns.nsdl.org/api/relationships#setSpec> $setSpec

# optional oai-deleted property
#driver.fedora.deleted = info:fedora/fedora-system:def/model#state

# optional volatile property
#driver.fedora.volatile = true


#################################
# Advanced, Optional Properties #
#################################

# [Advanced connection pool configuration]
#     These properties map to those defined by the Apache commons-DBCP project,
#     documented at http://jakarta.apache.org/commons/dbcp/configuration.html
#
# proai.db.defaultAutoCommit =
# proai.db.defaultReadOnly =
# proai.db.defaultTransactionIsolation =
# proai.db.defaultCatalog =
# proai.db.maxActive =
# proai.db.maxIdle =
# proai.db.minIdle =
# proai.db.initialSize =
# proai.db.maxWait =
# proai.db.testOnBorrow =
# proai.db.testOnReturn =
# proai.db.timeBetweenEvictionRunsMillis =
# proai.db.numTestsPerEvictionRun =
# proai.db.minEvictableIdleTimeMillis =
# proai.db.testWhileIdle =
# proai.db.validationQuery =
# proai.db.accessToUnderlyingConnectionAllowed =
# proai.db.removeAbandoned =
# proai.db.removeAbandonedTimeout =
# proai.db.logAbandoned =
# proai.db.poolPreparedStatements =
# proai.db.maxOpenPreparedStatements =
#
# [Connection-specific properties]
#     These properties can be anything you want.  Two examples follow.
#     The name after "db.connection." should be the name of any 
#     connection-specific property.
#
# proai.db.connection.anyConnectionProperty = 
# proai.db.connection.anyConnectionProperty2 = 

